<?xml version="1.0" encoding="utf-8"?><!--V.0.29--><ControlBlock BlockId="503" BlockName="AdaptiveNotch" LibraryName="Filter" Author="sfragner" Revision="1.0" DateCreated="2010-10-21" DateLastChange="2020-12-14" Prompt="X2C Adaptive Notch Filter" Order="0" SampleTimeFactor="1" TexFile="AdaptiveNotch_Info.tex" LibraryType="INTERNAL" PreNameSpace="at.lcm.x2c" DefaultImplementation="FiP16" DirectFeedThrough="true" ParameterId="0" IsStaticId="false" IsConversionOnTarget="false" TaskLabel=""><BlockLicense Type="Commercial (LCM) - Confidential"><CopyrightStatement>===== CONFIDENTIAL =====
The content of this file is confidential according to the X2C Licence Terms and Conditions.
 
Copyright (c) 2019, Linz Center of Mechatronics GmbH (LCM) http://www.lcm.at/
All rights reserved.</CopyrightStatement><LicenseStatement></LicenseStatement><Header>This file is part of X2C. http://x2c.lcm.at/
$LastChangedRevision: 2883 $</Header></BlockLicense><Description>Notch filter with variable notch frequency</Description><Mask Name=""><InportContainer><MaskInport Name="In"><Description>Input signal</Description><ConnectedOutport Name=""><BlockLink Name=""></BlockLink></ConnectedOutport></MaskInport><MaskInport Name="n"><Description>Speed input = notch frequency</Description><ConnectedOutport Name=""><BlockLink Name=""></BlockLink></ConnectedOutport></MaskInport></InportContainer><OutportContainer><MaskOutport Name="Out"><Description>Filtered output signal</Description></MaskOutport></OutportContainer><ParameterContainer><MaskParameter Name="Q" Prompt="Q: Quality Factor"><Description>Q-Factor of the notch filter.</Description><MaskDouble><Value><Numeric>1.0</Numeric></Value><DefaultValue><Numeric>1.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="n_thresh" Prompt="n_thresh: Speed threshold [rpm]"><Description>Speed threshold for activating the filter</Description><MaskDouble><Value><Numeric>10.0</Numeric></Value><DefaultValue><Numeric>10.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="n_max" Prompt="n_max: Maximum (mechanical) speed [rpm]"><Description>Maximum revolutions per minute
(Not used in floating point implementations)</Description><MaskDouble><Value><Numeric>1000.0</Numeric></Value><DefaultValue><Numeric>1000.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="p" Prompt="p: Number of pole pairs"><Description>Number of pole pairs</Description><MaskDouble><Value><Numeric>1.0</Numeric></Value><DefaultValue><Numeric>1.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="ts_fact" Prompt="Sample Time Multiplier"><Description>Multiplication factor of base sampling time (in integer format).</Description><MaskDouble><Value><Numeric>1.0</Numeric></Value><DefaultValue><Numeric>1.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="method" Prompt="Discretization method"><Description>Discretization method</Description><MaskComboBox><Value><String>matched Z-transform</String></Value><DefaultValue><String>matched Z-transform</String></DefaultValue><Content><Item><String>matched Z-transform</String></Item></Content></MaskComboBox></MaskParameter></ParameterContainer><Visualizations><Visualization Name="Matlab" Type="VisualizationMatlab"><Command><Item>image([getenv(char(at.lcm.x2c.utils.Utils.ENV_VAR_NAME)),'Library\Filter\Doc\Images\AdaptiveNotch.svg'])</Item><Item></Item><Item>port_label('input', 1, 'In')</Item><Item>port_label('input', 2, 'n')</Item></Command></Visualization><Visualization Name="ScilabXcos" Type="VisualizationScilabXcos"><ScriptDefineSection></ScriptDefineSection><ScriptPlotSection></ScriptPlotSection><ScriptStyle></ScriptStyle><BlockIconDefaultSize>[4 3]</BlockIconDefaultSize></Visualization></Visualizations></Mask><ImplementationConfig><ExistingImplementationContainer><Implementation Id="1" Name="FiP16" FriendlyName="16 Bit Fixed Point" Author="sfragner" Revision="1.0" DateCreated="2010-10-21" DateLastChange="2020-12-16" CFileName="AdaptiveNotch_FiP16.c" HFileName="AdaptiveNotch_FiP16.h" UpdateEnabled="true" ChecksumCFile="" ChecksumHFile="" AllowEmptyLoadFnc="false"><Description>16 Bit Fixed Point Implementation</Description><InportContainer><ImplementationInport Name="In" DataType="INT16"></ImplementationInport><ImplementationInport Name="n" DataType="INT16"></ImplementationInport></InportContainer><OutportContainer><ImplementationOutport Name="Out" DataType="INT16"></ImplementationOutport></OutportContainer><ParameterContainer><ImplementationParameter Name="n_thresh" DataType="INT16" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Speed threshold</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a_fact" DataType="INT16" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b_fact" DataType="INT16" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="c_fact" DataType="INT16" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrA" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for factor A</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a1" DataType="INT16" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Filter coefficient a1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a2" DataType="INT16" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Filter coefficient a2</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1" DataType="INT16" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Filter coefficient b1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="k" DataType="INT16" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Gain correction factor</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="in_old" DataType="INT16" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Input value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="in_very_old" DataType="INT16" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="out_old" DataType="INT16" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Output value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="out_very_old" DataType="INT16" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="n_old" DataType="INT16" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Speed value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter></ParameterContainer><Conversion Type="Java"></Conversion><FunctionLink Status="false" BlockName="" ImplementationName=""></FunctionLink></Implementation><Implementation Id="2" Name="FiP32" FriendlyName="32 Bit Fixed Point" Author="sfragner" Revision="1.0" DateCreated="2010-10-21" DateLastChange="2020-12-16" CFileName="AdaptiveNotch_FiP32.c" HFileName="AdaptiveNotch_FiP32.h" UpdateEnabled="true" ChecksumCFile="" ChecksumHFile="" AllowEmptyLoadFnc="false"><Description>32 Bit Fixed Point Implementation</Description><InportContainer><ImplementationInport Name="In" DataType="INT32"></ImplementationInport><ImplementationInport Name="n" DataType="INT32"></ImplementationInport></InportContainer><OutportContainer><ImplementationOutport Name="Out" DataType="INT32"></ImplementationOutport></OutportContainer><ParameterContainer><ImplementationParameter Name="n_thresh" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Speed threshold</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a_fact" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b_fact" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="c_fact" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrA" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for factor A</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a1" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Filter coefficient a1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a2" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Filter coefficient a2</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Filter coefficient b1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="k" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Gain correction factor</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="in_old" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Input value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="in_very_old" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="out_old" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Output value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="out_very_old" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="n_old" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Speed value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter></ParameterContainer><Conversion Type="Java"></Conversion><FunctionLink Status="false" BlockName="" ImplementationName=""></FunctionLink></Implementation><Implementation Id="3" Name="Float32" FriendlyName="32 Bit Floating Point" Author="sfragner" Revision="0.1" DateCreated="2014-07-09" DateLastChange="2020-12-16" CFileName="AdaptiveNotch_Float32.c" HFileName="AdaptiveNotch_Float32.h" UpdateEnabled="true" ChecksumCFile="" ChecksumHFile="" AllowEmptyLoadFnc="false"><Description>32 Bit Floating Point Implementation</Description><InportContainer><ImplementationInport Name="In" DataType="FLOAT32"></ImplementationInport><ImplementationInport Name="n" DataType="FLOAT32"></ImplementationInport></InportContainer><OutportContainer><ImplementationOutport Name="Out" DataType="FLOAT32"></ImplementationOutport></OutportContainer><ParameterContainer><ImplementationParameter Name="a_fact" DataType="FLOAT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b_fact" DataType="FLOAT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="c_fact" DataType="FLOAT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a1" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Filter coefficient a1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a2" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Filter coefficient a2</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Filter coefficient b1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="in_old" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Input value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="in_very_old" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Input value from two cycles before</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="out_old" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Output value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="out_very_old" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Output value from two cycles before</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="n_old" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Speed value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="k" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Gain correction value</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="n_thresh" DataType="FLOAT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Speed threshold</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter></ParameterContainer><Conversion Type="Java"></Conversion><FunctionLink Status="false" BlockName="" ImplementationName=""></FunctionLink></Implementation><Implementation Id="4" Name="Float64" FriendlyName="64 Bit Floating Point" Author="sfragner" Revision="0.1" DateCreated="2014-07-09" DateLastChange="2020-12-16" CFileName="AdaptiveNotch_Float64.c" HFileName="AdaptiveNotch_Float64.h" UpdateEnabled="true" ChecksumCFile="" ChecksumHFile="" AllowEmptyLoadFnc="false"><Description>64 Bit Floating Point Implementation</Description><InportContainer><ImplementationInport Name="In" DataType="FLOAT64"></ImplementationInport><ImplementationInport Name="n" DataType="FLOAT64"></ImplementationInport></InportContainer><OutportContainer><ImplementationOutport Name="Out" DataType="FLOAT64"></ImplementationOutport></OutportContainer><ParameterContainer><ImplementationParameter Name="a_fact" DataType="FLOAT64" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b_fact" DataType="FLOAT64" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="c_fact" DataType="FLOAT64" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a1" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Filter coefficient a1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a2" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Filter coefficient a2</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Filter coefficient b1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="k" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="in_old" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Input value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="in_very_old" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="out_old" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Output value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="out_very_old" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="n_old" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description></Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="n_thresh" DataType="FLOAT64" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Speed threshold</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter></ParameterContainer><Conversion Type="Java"></Conversion><FunctionLink Status="false" BlockName="" ImplementationName=""></FunctionLink></Implementation></ExistingImplementationContainer><UsedImplementation></UsedImplementation></ImplementationConfig></ControlBlock>