<?xml version="1.0" encoding="utf-8"?><!--V.0.29--><ControlBlock BlockId="501" BlockName="FundFreq" LibraryName="Filter" Author="sfragner" Revision="1.0" DateCreated="2014-03-12" DateLastChange="2021-03-16" Prompt="X2C Fundamental Frequency Block" Order="0" SampleTimeFactor="1" TexFile="FundFreq_Info.tex" LibraryType="INTERNAL" PreNameSpace="at.lcm.x2c" DefaultImplementation="FiP16" DirectFeedThrough="true" ParameterId="0" IsStaticId="false" IsConversionOnTarget="false" TaskLabel=""><BlockLicense Type="Commercial (LCM) - Confidential"><CopyrightStatement>===== CONFIDENTIAL =====
The content of this file is confidential according to the X2C Licence Terms and Conditions.
 
Copyright (c) 2014, Linz Center of Mechatronics GmbH (LCM) http://www.lcm.at/
All rights reserved.</CopyrightStatement><LicenseStatement></LicenseStatement><Header>This file is part of X2C. http://x2c.lcm.at/
$LastChangedRevision: 2883 $
$LastChangedDate:: 2023-07-05 18:48:57 +0200#$</Header></BlockLicense><Description>Calculation of the first harmonic (fundamental frequency) of the input signal.</Description><Mask Name=""><InportContainer><MaskInport Name="In"><Description>Input signal</Description><ConnectedOutport Name=""><BlockLink Name=""></BlockLink></ConnectedOutport></MaskInport><MaskInport Name="phi"><Description>Angle signal</Description><ConnectedOutport Name=""><BlockLink Name=""></BlockLink></ConnectedOutport></MaskInport></InportContainer><OutportContainer><MaskOutport Name="Out"><Description>First harmonic</Description></MaskOutport></OutportContainer><ParameterContainer><MaskParameter Name="ts_fact" Prompt="Sample Time Multiplier"><Description>Multiplication factor of base sampling time (in integer format).</Description><MaskDouble><Value><Numeric>1.0</Numeric></Value><DefaultValue><Numeric>1.0</Numeric></DefaultValue></MaskDouble></MaskParameter></ParameterContainer><Visualizations><Visualization Name="Matlab" Type="VisualizationMatlab"><Command><Item>patch([0 1 0], [0 0 0.5], [0.91 0.84 0])</Item><Item></Item><Item>port_label('input',1,'In')</Item><Item>port_label('input',2,'\phi','texmode','on')</Item><Item>color('blue')</Item><Item>port_label('output',1,'Out', 'texmode', 'on')</Item><Item></Item><Item>%Axis:</Item><Item>color('black')</Item><Item>plot([0 2*pi]*0.09+0.2, [0.5 0.5])</Item><Item>plot([0 0]*0.08+0.2, 0.5 + 0.3*[-1 1])</Item><Item></Item><Item>%In:</Item><Item>plot(linspace(0,2*pi,100)*0.08+0.2, 0.65 + 0.2*sin(linspace(0,2*pi,100))+0.1*sin(linspace(0,6*pi,100)))</Item><Item></Item><Item>%Out:</Item><Item>color('blue')</Item><Item>plot(linspace(0,2*pi,100)*0.08+0.2, 0.5 + 0.2*sin(linspace(0,2*pi,100)))</Item></Command></Visualization><Visualization Name="ScilabXcos" Type="VisualizationScilabXcos"><ScriptDefineSection><Item>x_sci.graphics.out_style = "fontColor=blue";</Item></ScriptDefineSection><ScriptPlotSection></ScriptPlotSection><ScriptStyle></ScriptStyle><BlockIconDefaultSize>[4 3]</BlockIconDefaultSize></Visualization></Visualizations></Mask><ImplementationConfig><ExistingImplementationContainer><Implementation Id="1" Name="FiP16" FriendlyName="16 Bit Fixed Point" Author="sfragner" Revision="1.0" DateCreated="2014-03-12" DateLastChange="2014-03-13" CFileName="FundFreq_FiP16.c" HFileName="FundFreq_FiP16.h" UpdateEnabled="true" ChecksumCFile="" ChecksumHFile="" AllowEmptyLoadFnc="false"><Description>16 Bit Fixed Point Implementation</Description><InportContainer><ImplementationInport Name="In" DataType="INT16"></ImplementationInport><ImplementationInport Name="phi" DataType="INT16"></ImplementationInport></InportContainer><OutportContainer><ImplementationOutport Name="Out" DataType="INT16"></ImplementationOutport></OutportContainer><ParameterContainer><ImplementationParameter Name="cnt" DataType="UINT16" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Timer value</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="phi_old" DataType="INT16" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Angle value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sum_a" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Integration value for fourier coefficient a</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sum_b" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Integration value for fourier coefficient b</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a" DataType="INT16" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Fourier coefficient a</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b" DataType="INT16" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Fourier coefficient b</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter></ParameterContainer><Conversion Type="None"></Conversion><FunctionLink Status="false" BlockName="" ImplementationName=""></FunctionLink></Implementation><Implementation Id="2" Name="FiP32" FriendlyName="32 Bit Fixed Point" Author="sfragner" Revision="1.0" DateCreated="2014-03-12" DateLastChange="2014-03-13" CFileName="FundFreq_FiP32.c" HFileName="FundFreq_FiP32.h" UpdateEnabled="true" ChecksumCFile="" ChecksumHFile="" AllowEmptyLoadFnc="false"><Description>32 Bit Fixed Point Implementation</Description><InportContainer><ImplementationInport Name="In" DataType="INT32"></ImplementationInport><ImplementationInport Name="phi" DataType="INT32"></ImplementationInport></InportContainer><OutportContainer><ImplementationOutport Name="Out" DataType="INT32"></ImplementationOutport></OutportContainer><ParameterContainer><ImplementationParameter Name="cnt" DataType="UINT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Timer value</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="phi_old" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Angle value from previous cycle.</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sum_a" DataType="INT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Integration value for fourier coefficient a</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sum_b" DataType="INT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Integration value for fourier coefficient b</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Fourier coefficient a</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Fourier coefficient b</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter></ParameterContainer><Conversion Type="None"></Conversion><FunctionLink Status="false" BlockName="" ImplementationName=""></FunctionLink></Implementation><Implementation Id="3" Name="Float32" FriendlyName="32 Bit Floating Point" Author="sfragner" Revision="0.1" DateCreated="2013-07-15" DateLastChange="2014-03-13" CFileName="FundFreq_Float32.c" HFileName="FundFreq_Float32.h" UpdateEnabled="true" ChecksumCFile="" ChecksumHFile="" AllowEmptyLoadFnc="false"><Description>32 Bit Floating Point Implementation</Description><InportContainer><ImplementationInport Name="In" DataType="FLOAT32"></ImplementationInport><ImplementationInport Name="phi" DataType="FLOAT32"></ImplementationInport></InportContainer><OutportContainer><ImplementationOutport Name="Out" DataType="FLOAT32"></ImplementationOutport></OutportContainer><ParameterContainer><ImplementationParameter Name="cnt" DataType="UINT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Timer value</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="phi_old" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Angle value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sum_a" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Integration value for fourier coefficient a</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sum_b" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Integration value for fourier coefficient b</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Fourier coefficient a</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Fourier coefficient b</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter></ParameterContainer><Conversion Type="None"></Conversion><FunctionLink Status="false" BlockName="" ImplementationName=""></FunctionLink></Implementation><Implementation Id="4" Name="Float64" FriendlyName="64 Bit Floating Point" Author="sfragner" Revision="0.1" DateCreated="2013-07-15" DateLastChange="2014-03-13" CFileName="FundFreq_Float64.c" HFileName="FundFreq_Float64.h" UpdateEnabled="true" ChecksumCFile="" ChecksumHFile="" AllowEmptyLoadFnc="false"><Description>64 Bit Floating Point Implementation</Description><InportContainer><ImplementationInport Name="In" DataType="FLOAT64"></ImplementationInport><ImplementationInport Name="phi" DataType="FLOAT64"></ImplementationInport></InportContainer><OutportContainer><ImplementationOutport Name="Out" DataType="FLOAT64"></ImplementationOutport></OutportContainer><ParameterContainer><ImplementationParameter Name="cnt" DataType="UINT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Timer value</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="phi_old" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Angle value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sum_a" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Integration value for fourier coefficient a</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sum_b" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Integration value for fourier coefficient b</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="a" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Fourier coefficient a</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Fourier coefficient b</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter></ParameterContainer><Conversion Type="None"></Conversion><FunctionLink Status="false" BlockName="" ImplementationName=""></FunctionLink></Implementation></ExistingImplementationContainer><UsedImplementation></UsedImplementation></ImplementationConfig></ControlBlock>